<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ferretería Store - Dashboard</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
<div class="container">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="logo">
      <i class="fas fa-tools"></i>
      <h2>Ferretería Store</h2>
    </div>

    <div class="search-box">
      <input type="text" placeholder="Search">
    </div>

    <ul class="nav-menu">
      <li class="nav-item">
        <a th:href="@{/home}" class="nav-link active">
          <span><i class="fas fa-chart-bar"></i> Dashboard</span>
        </a>
      </li>

      <li class="nav-item">
        <a th:href="@{/sales}" class="nav-link">
          <span><i class="fas fa-shopping-cart"></i> Ventas</span>
          <i class="fas fa-chevron-down"></i>
        </a>
        <ul class="sub-menu">
          <li><a th:href="@{/sales/form}" class="nav-link">Nueva Venta</a></li>
          <li><a th:href="@{/productreturns}" class="nav-link">Devoluciones</a></li>
        </ul>
      </li>

      <li class="nav-item">
        <a th:href="@{/purchases}" class="nav-link">
          <span><i class="fas fa-truck"></i> Compras</span>
          <i class="fas fa-chevron-down"></i>
        </a>
        <ul class="sub-menu">
          <li><a th:href="@{/purchases/form}" class="nav-link">Nueva Compra</a></li>
        </ul>
      </li>

      <li class="nav-item">
        <a th:href="@{/inventory}" class="nav-link">
          <span><i class="fas fa-boxes"></i> Inventario</span>
          <i class="fas fa-chevron-down"></i>
        </a>
        <ul class="sub-menu">
          <li><a th:href="@{/inventory/form}" class="nav-link">Nuevo Inventario</a></li>
          <li><a th:href="@{/entries}" class="nav-link">Entradas <span class="badge">10</span></a></li>
          <li><a th:href="@{/locations}" class="nav-link">Ubicaciones</a></li>
        </ul>
      </li>

      <li class="nav-item">
        <a th:href="@{/catalog}" class="nav-link">
          <span><i class="fas fa-list"></i> Catálogo</span>
          <i class="fas fa-chevron-down"></i>
        </a>
        <ul class="sub-menu">
          <li><a th:href="@{/catalog/articles}" class="nav-link">Artículos</a></li>
          <li><a th:href="@{/catalog/categories}" class="nav-link">Categorías</a></li>
        </ul>
      </li>
    </ul>

    <!-- Botón de Logout -->
    <div class="logout-section" style="margin-top: auto; padding: 20px;">
      <a th:href="@{/logout}" class="nav-link" style="color: #ef4444;">
        <span><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</span>
      </a>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <div class="dashboard-header">
      <h1>Dashboard</h1>
    </div>

    <!-- Stats and Chart Section -->
    <div class="stats-grid">
      <div class="chart-container">
        <h3>Incremento de clientes</h3>
        <canvas id="clientChart" width="400" height="200"></canvas>
      </div>

      <div class="active-clients">
        <h3>Clientes activos</h3>
        <div class="progress-ring">
          <svg>
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#667eea"/>
                <stop offset="100%" style="stop-color:#764ba2"/>
              </linearGradient>
            </defs>
            <circle class="bg" cx="60" cy="60" r="45"></circle>
            <circle class="progress" cx="60" cy="60" r="45"></circle>
          </svg>
        </div>
        <div class="client-number">289</div>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-cards">
      <div class="stat-card">
        <i class="fas fa-users"></i>
        <div class="stat-number">5203</div>
        <div class="stat-label">Total clientes</div>
      </div>

      <div class="stat-card">
        <i class="fas fa-box"></i>
        <div class="stat-number">7909</div>
        <div class="stat-label">Total artículos</div>
      </div>

      <div class="stat-card">
        <i class="fas fa-arrow-up"></i>
        <div class="stat-number">3209</div>
        <div class="stat-label">Total salidas</div>
      </div>

      <div class="stat-card">
        <i class="fas fa-arrow-down"></i>
        <div class="stat-number">4921</div>
        <div class="stat-label">Total entradas</div>
      </div>
    </div>

    <!-- Clients Table -->
    <div class="clients-section">
      <h3>Clientes</h3>
      <p class="clients-subtitle">Estos clientes han comprado en los últimos 6 meses.</p>

      <table class="clients-table">
        <thead>
        <tr>
          <th>Compañía</th>
          <th>Estado</th>
          <th>Acerca</th>
          <th>Porcentaje ventas</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>
            <div class="client-info">
              <div class="client-avatar">C</div>
              <div class="client-details">
                <h4>Catalog</h4>
                <p>catalogapp.io</p>
              </div>
            </div>
          </td>
          <td>
            <span class="status-badge">Cliente</span>
          </td>
          <td>
            <div>Content curating app</div>
            <small>Brings all your news into one place</small>
          </td>
          <td>
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
            <small>70%</small>
          </td>
          <td>
            <button class="more-btn"><i class="fas fa-ellipsis-v"></i></button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="footer-left">
    <span>© 2025 Ferretería Store. Todos los derechos reservados.</span>
  </div>
  <div class="footer-right">
    <span>Hecho con <i class="fas fa-heart"></i> por Aprendices SENA</span>
  </div>
</footer>

<script th:inline="javascript">
  // Chart.js configuration
  const ctx = document.getElementById('clientChart').getContext('2d');
  const chartData = /*[[${chartData}]]*/ [
      110, 125, 140, 120, 135, 150, 145, 160, 155, 170, 165, 180
  ];

  new Chart(ctx, {
      type: 'line',
      data: {
          labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'],
          datasets: [{
              data: chartData,
              borderColor: '#10b981',
              backgroundColor: 'rgba(16, 185, 129, 0.1)',
              borderWidth: 2,
              fill: true,
              tension: 0.4
          }]
      },
      options: {
          responsive: true,
          plugins: {
              legend: {
                  display: false
              }
          },
          scales: {
              y: {
                  beginAtZero: true,
                  max: 220,
                  ticks: {
                      stepSize: 55
                  }
              },
              x: {
                  grid: {
                      display: true
                  }
              }
          }
      }
  });
</script>
</body>
</html>